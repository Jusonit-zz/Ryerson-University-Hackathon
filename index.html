<!DOCTYPE html>
<html>
    <!-- just the header part where we can store CSS... we can also do this in a CSS file -->
    <head>
        <h1>Clean & Green Information Exchange</h1>
        <style>
            p {
                font-family: "Lucida Console";
            }
            h1 {
                font-family: "Lucida Console";
            }
            .btn {
                display: inline-block;
                text-align: center;
                border: 1px solid #142846;
                border-radius: .25em;
                padding: .25em 1em;
                background-color: #43709F;
                color: #fff;
                font-size: 20px;
                box-shadow: 0 .125em 0 0em #7B99B5;
                -webkit-transition: all .15s;
                transition: all .15s;
                will-change: transform;
                width: 120px;
                height: 36px;
            }
        </style>
    </head>
    <body>

        <!-- this is the header area - with buttons for creating account & creating event -->
        <div id="div1">
            <div style="float:right;">
                Login or Signup!
                <button class="btn" id="btn2" type="button">Login/Signup!</button>
            </div>
            <div>
                Create an Event!
                <button class="btn" id="btn1" type="button">Create!</button>
            </div>
        </div>

        <!-- to add space between sections -->
        <br><br>

        <!-- this is where list of entries will be displayed -->
        <!-- below is a SAMPLE list of entries, just for testing -->
        <div id="div2">
            <div id="entry1" style="border:1px solid black;">
                <p>Volunteer at the Park this Saturday!</p>
            </div>
            <div id="entry2" style="border:1px solid black;">
                <p>Hackathon volunteers needed!</p>
            </div>
            <div id="entry3" style="border:1px solid black;">
                <p>Campus grounds cleanup at 5pm next Weds!</p>
            </div>
            <div id="entry4" style="border:1px solid black;">
                <p>Recycling information session at Student Center!</p>
            </div>
        </div>
    </body>

    <!-- where we are going to put our javascript for the page -->
    <script>

        document.addEventListener('click',function(e){
            if (e.target && e.target.id== 'btn1') {

                // do something here when create event button is clicked
                alert("create an event!");

                // var dbConnection = SQL.connect( { Driver: "MySQL",
                //     Host: "35.196.158.3",
                //     Port: 3306,
                //     Database: "test",
                //     UserName: "francis",
                //     Password: "something" } );


            }

            if (e.target && e.target.id== 'btn2') {

                alert("connecting to database!");

                // do something here when login button is clicked
                let formData = new FormData();
                formData.append('indicator', 'testconnection');

                //return fetch('35.196.158.3/accessDatabase.php', {
                return fetch('db.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    //body: JSON.stringify(JSON_DATA),
                    body: formData,
                    mode: 'no-cors'
                })
                .then((res) => res.json())
                .then((response) => {
                    console.log(response);
                    //document.getElementById("div2").innerHTML = "<h1>Exams Need Grading</h1><br>" + response.ankit + "<br><button id='gradeexam' class=\"btn\" type=\"button\">View Exam</button><br<br><br><br>";
                }); // end of fetch

            }

        }); // end of document listener

    </script>
</html>
